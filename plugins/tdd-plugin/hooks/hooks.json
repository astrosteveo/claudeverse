{
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Write|Edit",
        "hooks": [
          {
            "type": "prompt",
            "prompt": "Before writing or editing code, check if tests exist:\n\n1. Identify file being modified: {{tool_input.file_path}}\n2. Check if it's in exemptions (scripts/, docs/, *.config.*) - if so, allow\n3. Determine test file path by convention:\n   - JS/TS: *.test.js, *.spec.ts, __tests__/\n   - Python: test_*.py, *_test.py\n   - Go: *_test.go\n   - Ruby: *_spec.rb\n4. Use Glob to check if test file exists\n5. Read .claude/tdd-plugin.local.md for enforcementLevel\n6. If test missing:\n   - advisory: Show brief warning, allow operation\n   - strict: Block with message suggesting /tdd:check\n\nKeep response concise. One line for warnings.",
            "timeout": 15
          }
        ]
      }
    ],
    "SessionStart": [
      {
        "hooks": [
          {
            "type": "prompt",
            "prompt": "Load TDD context silently:\n\n1. Check .claude/current-feature.txt - if exists, note active feature\n2. Check .claude/tdd-plugin.local.md for settings\n3. Only display message if there's an active feature:\n   \"Working on: <feature> | /tdd-plugun:tdd to continue\"\n\nKeep output minimal or silent if no active feature.",
            "timeout": 10
          }
        ]
      }
    ],
    "SessionEnd": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "bash \"${CLAUDE_PLUGIN_ROOT}/scripts/update-claude-md.sh\" 2>/dev/null || true",
            "timeout": 10
          }
        ]
      }
    ]
  }
}
